//gcc -z execstack -o ./CB ./CWE_120_b.c -fno-pie -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>

void shell(){
	system("/bin/sh");
}

void func(char *src){
	char dst[128]={0,};

	strcpy(dst,src);
}

int main(int argc, char *argv[]){
	
        setbuf(stdin,0LL);
        setbuf(stdout,0LL);
        setbuf(stderr,0LL);

	char buf[1024] ={0,};
	int len=0;

	printf("Input Length: ");

	scanf("%d",&len);

	printf("Input: ");
	read(0,buf,len);

	func(buf);
	puts("attack fail");

	return 0;
}
	
