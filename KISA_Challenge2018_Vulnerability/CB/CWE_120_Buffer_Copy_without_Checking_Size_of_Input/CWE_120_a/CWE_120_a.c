// gcc -z execstack -o ./CB ./CWE_120_a.c -fno-pie -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>

void shell(){
	system("/bin/sh");
}

void func(char *src){
	char dst[128]={0,};

	strcpy(dst,src);
	
}

int main(int argc, char* argv[]){
	
	char buf[1024]={0,};

	setbuf(stdin,0LL);
	setbuf(stdout,0LL);
	setbuf(stderr,0LL);

	printf("Input: ");

	read(0,buf,1024);

	func(buf);
	puts("attack fail");

	return 0;
}
