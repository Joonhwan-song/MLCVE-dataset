//gcc -o CB CWE_416_b.c -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>

struct mem{
	void (*info)(int);
	char name[8];
};
void info(char *name){
	puts(name);
}
int main(){
	int i;
	char *name;
	system("clear");
	struct mem *t = malloc(sizeof(struct mem));	
	t->info = (void *)&info;
	t->info("my name is NULL");
	free(t);
	scanf("%d", &i);
	name = malloc(4+i);
	read(0,name,4+name);
	t->info(name);
}

/*int main(){
        func();
        puts("attack fail");
}*/
