//gcc -o CB CWE_562_c.c -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>

#define name_size 256

char sh[]="/bin/sh";

void editname(char *name){
	read(0, name, name_size);
}
char *getname(){
	char name[name_size];
	char *p = &name;
	read(0, name, name_size);
	return p;
}
int func(){
	char *name;
	system("clear");
	name = getname();
	editname(name);
}


int main(){
        func();
        puts("attack fail");
}
