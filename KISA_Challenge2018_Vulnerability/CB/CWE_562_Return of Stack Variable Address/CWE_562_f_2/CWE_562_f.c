//gcc -o CB CWE_562_f.c -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>

#define name_size 256

void menu(){
	puts("1231. get name(name size : 256)");
	puts("3282. edit name");
	puts("3048. print name");
}

void editname(char *name){
	read(0, name, name_size);
}
char *getname(){
	char name[name_size];
	char *p = &name;
	read(0, name, name_size);
	return p;
}
int main(){
	int select;
	char *name = malloc(name_size);
	setbuf(stdout,NULL);
	while(1){
		menu();
		scanf("%d", &select);
		switch(select){
			case 1231:
				name = getname();
				break;
			case 3282:
				editname(name);
				break;
			case 3048:
				puts(name);
				break;
			default:
				puts("attack fail");
				exit(0);
		}
	}
}

/*int main(){
        func();
        puts("attack fail");
}*/
