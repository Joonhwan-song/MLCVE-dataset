//gcc -o CB CWE_562_a.c -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>
#include <string.h>

#define name_size 256

void pwn(char *name){
	char random_stack[name_size];
	read(0, name, name_size);
	if(!strcmp("cwe562teststst", random_stack)){
		system("/bin/sh");
	}else{
		puts("attack fail");
	}
}
char *input(){
	char name[name_size];
	char *p = &name;
	return p;
}
int main(){
	char *name;
	setbuf(stdout,NULL);
	name = input();
	pwn(name);
}


/*int main(){
        func();
        puts("attack fail");
}*/
