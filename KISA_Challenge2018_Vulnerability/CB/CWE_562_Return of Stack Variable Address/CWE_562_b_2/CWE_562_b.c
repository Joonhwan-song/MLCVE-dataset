//gcc -o CB CWE_562_b.c -fno-stack-protector -mpreferred-stack-boundary=2 -m32
#include <stdio.h>
#include <string.h>

#define name_size 256

void solve(){
	system("/bin/sh");
}
void editname(char *name){
	puts("edit name");
	read(0, name, name_size);
}
char *getname(){
	char name[name_size];
	char *p = &name;
	read(0, name, name_size);
	return p;
}
int func(){
	char *name;
	name = getname();
	if(*(int *)name != 0x20182018){
		puts("no hack");
		puts("attack fail");
		exit(0);
	}
	editname(name);
}


int main(){
	puts("what is your name?");
    func();
    puts("attack fail");
}
